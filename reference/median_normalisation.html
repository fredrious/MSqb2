<!DOCTYPE html>
<!-- Generated by pkgdown: do not edit by hand --><html lang="en"><head><meta http-equiv="Content-Type" content="text/html; charset=UTF-8"><meta charset="utf-8"><meta http-equiv="X-UA-Compatible" content="IE=edge"><meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no"><title>Median Normalization of Data — median_normalisation • MSqb2</title><script src="../deps/jquery-3.6.0/jquery-3.6.0.min.js"></script><meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no"><link href="../deps/bootstrap-5.3.1/bootstrap.min.css" rel="stylesheet"><script src="../deps/bootstrap-5.3.1/bootstrap.bundle.min.js"></script><link href="../deps/font-awesome-6.4.2/css/all.min.css" rel="stylesheet"><link href="../deps/font-awesome-6.4.2/css/v4-shims.min.css" rel="stylesheet"><script src="../deps/headroom-0.11.0/headroom.min.js"></script><script src="../deps/headroom-0.11.0/jQuery.headroom.min.js"></script><script src="../deps/bootstrap-toc-1.0.1/bootstrap-toc.min.js"></script><script src="../deps/clipboard.js-2.0.11/clipboard.min.js"></script><script src="../deps/search-1.0.0/autocomplete.jquery.min.js"></script><script src="../deps/search-1.0.0/fuse.min.js"></script><script src="../deps/search-1.0.0/mark.min.js"></script><!-- pkgdown --><script src="../pkgdown.js"></script><meta property="og:title" content="Median Normalization of Data — median_normalisation"><meta name="description" content="This function performs median normalization on a dataset. Optionally, it can log2 transform the data before normalization
and perform normalization based on a subset of the data specified by the user."><meta property="og:description" content="This function performs median normalization on a dataset. Optionally, it can log2 transform the data before normalization
and perform normalization based on a subset of the data specified by the user."></head><body>
    <a href="#main" class="visually-hidden-focusable">Skip to contents</a>


    <nav class="navbar navbar-expand-lg fixed-top bg-light" data-bs-theme="light" aria-label="Site navigation"><div class="container">

    <a class="navbar-brand me-2" href="../index.html">MSqb2</a>

    <small class="nav-text text-muted me-auto" data-bs-toggle="tooltip" data-bs-placement="bottom" title="">0.2.1</small>


    <button class="navbar-toggler" type="button" data-bs-toggle="collapse" data-bs-target="#navbar" aria-controls="navbar" aria-expanded="false" aria-label="Toggle navigation">
      <span class="navbar-toggler-icon"></span>
    </button>

    <div id="navbar" class="collapse navbar-collapse ms-3">
      <ul class="navbar-nav me-auto"><li class="active nav-item"><a class="nav-link" href="../reference/index.html">Reference</a></li>
      </ul><ul class="navbar-nav"><li class="nav-item"><form class="form-inline" role="search">
 <input class="form-control" type="search" name="search-input" id="search-input" autocomplete="off" aria-label="Search site" placeholder="Search for" data-search-index="../search.json"></form></li>
      </ul></div>


  </div>
</nav><div class="container template-reference-topic">
<div class="row">
  <main id="main" class="col-md-9"><div class="page-header">

      <h1>Median Normalization of Data</h1>

      <div class="d-none name"><code>median_normalisation.Rd</code></div>
    </div>

    <div class="ref-description section level2">
    <p>This function performs median normalization on a dataset. Optionally, it can log2 transform the data before normalization
and perform normalization based on a subset of the data specified by the user.</p>
    </div>

    <div class="section level2">
    <h2 id="ref-usage">Usage<a class="anchor" aria-label="anchor" href="#ref-usage"></a></h2>
    <div class="sourceCode"><pre class="sourceCode r"><code><span><span class="fu">median_normalisation</span><span class="op">(</span></span>
<span>  <span class="va">dat</span>,</span>
<span>  <span class="va">col.p</span>,</span>
<span>  <span class="va">row.p</span>,</span>
<span>  <span class="va">val</span>,</span>
<span>  log2transform <span class="op">=</span> <span class="cn">TRUE</span>,</span>
<span>  normalize.bySubset <span class="op">=</span> <span class="cn">NULL</span>,</span>
<span>  normalize.bySubset.matchTerm <span class="op">=</span> <span class="cn">NULL</span>,</span>
<span>  normalize.bySubset.matchTerm.exactMatch <span class="op">=</span> <span class="cn">FALSE</span></span>
<span><span class="op">)</span></span></code></pre></div>
    </div>

    <div class="section level2">
    <h2 id="arguments">Arguments<a class="anchor" aria-label="anchor" href="#arguments"></a></h2>


<dl><dt id="arg-dat">dat<a class="anchor" aria-label="anchor" href="#arg-dat"></a></dt>
<dd><p>A <code>data.table</code> containing the data to be normalized. The table should include columns for the features, samples, and values to be normalized.</p></dd>


<dt id="arg-col-p">col.p<a class="anchor" aria-label="anchor" href="#arg-col-p"></a></dt>
<dd><p>A character string specifying the column name that contains the sample identifiers (e.g., <code>"SampleID"</code>).</p></dd>


<dt id="arg-row-p">row.p<a class="anchor" aria-label="anchor" href="#arg-row-p"></a></dt>
<dd><p>A character string specifying the column name that contains the feature identifiers (e.g., <code>"Protein"</code>).</p></dd>


<dt id="arg-val">val<a class="anchor" aria-label="anchor" href="#arg-val"></a></dt>
<dd><p>A character string specifying the column name that contains the values to be normalized (e.g., <code>"Abundance"</code>).</p></dd>


<dt id="arg-log-transform">log2transform<a class="anchor" aria-label="anchor" href="#arg-log-transform"></a></dt>
<dd><p>Logical. If <code>TRUE</code>, log2 transformation is applied to the data before normalization. Default is <code>TRUE</code>.</p></dd>


<dt id="arg-normalize-bysubset">normalize.bySubset<a class="anchor" aria-label="anchor" href="#arg-normalize-bysubset"></a></dt>
<dd><p>A character string specifying the column name to be used for subsetting the data before normalization. Default is <code>NULL</code>.</p></dd>


<dt id="arg-normalize-bysubset-matchterm">normalize.bySubset.matchTerm<a class="anchor" aria-label="anchor" href="#arg-normalize-bysubset-matchterm"></a></dt>
<dd><p>A character string specifying the term to match within the subset column for normalization. Default is <code>NULL</code>.</p></dd>


<dt id="arg-normalize-bysubset-matchterm-exactmatch">normalize.bySubset.matchTerm.exactMatch<a class="anchor" aria-label="anchor" href="#arg-normalize-bysubset-matchterm-exactmatch"></a></dt>
<dd><p>Logical. If <code>TRUE</code>, requires an exact match for the <code>normalize.bySubset.matchTerm</code>. Default is <code>FALSE</code>.</p></dd>

</dl></div>
    <div class="section level2">
    <h2 id="value">Value<a class="anchor" aria-label="anchor" href="#value"></a></h2>
    <p>A <code>data.table</code> containing the normalized data, with the same structure as the input <code>dat</code>.</p>
    </div>
    <div class="section level2">
    <h2 id="details">Details<a class="anchor" aria-label="anchor" href="#details"></a></h2>
    <p>The <code>median_normalisation</code> function applies median normalization to the data, which adjusts the values in each sample such that
the median value is consistent across samples. This is particularly useful in MS or other omics data where
global shifts in signal intensities between samples need to be corrected.</p>
<p>The function allows for:</p><ul><li><p><strong>Log2 Transformation</strong>: Optional log2 transformation of the data prior to normalization.</p></li>
<li><p><strong>Subset Normalization</strong>: Normalization based on a subset of the data, defined by the <code>normalize.bySubset</code> parameter.</p></li>
</ul><p>If <code>normalize.bySubset</code> is provided, the function calculates the median based on the specified subset, otherwise, it normalizes
the data using the entire dataset. The function also supports partial or exact matching for subsetting.</p>
    </div>

    <div class="section level2">
    <h2 id="ref-examples">Examples<a class="anchor" aria-label="anchor" href="#ref-examples"></a></h2>
    <div class="sourceCode"><pre class="sourceCode r"><code><span class="r-in"><span><span class="kw">if</span> <span class="op">(</span><span class="cn">FALSE</span><span class="op">)</span> <span class="op">{</span> <span class="co"># \dontrun{</span></span></span>
<span class="r-in"><span>  <span class="va">data</span> <span class="op">&lt;-</span> <span class="fu"><a href="https://rdatatable.gitlab.io/data.table/reference/data.table.html" class="external-link">data.table</a></span><span class="op">(</span></span></span>
<span class="r-in"><span>    SampleID <span class="op">=</span> <span class="fu"><a href="https://rdrr.io/r/base/c.html" class="external-link">c</a></span><span class="op">(</span><span class="st">"S1"</span>, <span class="st">"S2"</span>, <span class="st">"S3"</span>, <span class="st">"S4"</span><span class="op">)</span>,</span></span>
<span class="r-in"><span>    Protein <span class="op">=</span> <span class="fu"><a href="https://rdrr.io/r/base/c.html" class="external-link">c</a></span><span class="op">(</span><span class="st">"P1"</span>, <span class="st">"P2"</span>, <span class="st">"P1"</span>, <span class="st">"P2"</span><span class="op">)</span>,</span></span>
<span class="r-in"><span>    Abundance <span class="op">=</span> <span class="fu"><a href="https://rdrr.io/r/base/c.html" class="external-link">c</a></span><span class="op">(</span><span class="fl">1.2</span>, <span class="fl">2.3</span>, <span class="fl">3.1</span>, <span class="fl">4.2</span><span class="op">)</span></span></span>
<span class="r-in"><span>  <span class="op">)</span></span></span>
<span class="r-in"><span></span></span>
<span class="r-in"><span>  <span class="va">normalized_data</span> <span class="op">&lt;-</span> <span class="fu">median_normalisation</span><span class="op">(</span><span class="va">data</span>, col.p <span class="op">=</span> <span class="st">"SampleID"</span>, row.p <span class="op">=</span> <span class="st">"Protein"</span>, val <span class="op">=</span> <span class="st">"Abundance"</span><span class="op">)</span></span></span>
<span class="r-in"><span><span class="op">}</span> <span class="co"># }</span></span></span>
<span class="r-in"><span></span></span>
</code></pre></div>
    </div>
  </main><aside class="col-md-3"><nav id="toc" aria-label="Table of contents"><h2>On this page</h2>
    </nav></aside></div>


    <footer><div class="pkgdown-footer-left">
  <p>Developed by Farhad Shakeri.</p>
</div>

<div class="pkgdown-footer-right">
  <p>Site built with <a href="https://pkgdown.r-lib.org/" class="external-link">pkgdown</a> 2.1.0.</p>
</div>

    </footer></div>





  </body></html>

